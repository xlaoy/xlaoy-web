<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title>index</title>
    <script th:src="@{/js/jquery-3.3.1.min.js}" charset="utf-8"></script>
    <script th:src="@{/layui/layui.js}" charset="utf-8"></script>
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"  media="all">
</head>
<body>
haha
</body>

<script>

function getData() {

    //可均衡获取0到9的随机整数。
    var random = Math.floor(Math.random() * 10);
    var d = random % 2;
    var url = "";
    if(d == 0) {
        url = "http://127.0.0.1:5020/api-user/user/test01";
    } else {
        url = "http://127.0.0.1:5020/api-user/user/test04";
    }

    $.ajax({
        type: "GET",
        url: url,
        contentType: "application/json",
        beforeSend: function (XMLHttpRequest) {
            XMLHttpRequest.setRequestHeader("jwttoken", "eyJhbGciOiJIUzUxMiJ9.eyJndWlkIjoiODY2MWNjNTMyOTY0NGUzNWJiY2UyYmJlZDY4YmQ0ZGYiLCJleHAiOjE1NDU4Mjk5ODYsImlhdCI6MTU0NTgwODM4Nn0.McySoLDKdPjaOVyR_Njj_2_Mc6la1V-Y-XR8wlCbMxSoH5O_u9Gx7W1Bplp6AHfDpwB6MonjKT1aRIEU1IgtOg");
        },
        success: function(response) {
            console.log("success");
        },
        error: function(response) {
            console.log("error");
        }
    });
}

//getData();
setInterval("getData()", "1000");


</script>

</html>